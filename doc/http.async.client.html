<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>http.async.client documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Http.async.client 1.0.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>async</span></div></div></li><li class="depth-3 current"><a href="http.async.client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-4 branch"><a href="http.async.client.cert.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cert</span></div></a></li><li class="depth-4 branch"><a href="http.async.client.headers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>headers</span></div></a></li><li class="depth-4 branch"><a href="http.async.client.part.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>part</span></div></a></li><li class="depth-4 branch"><a href="http.async.client.request.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>request</span></div></a></li><li class="depth-4 branch"><a href="http.async.client.status.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>status</span></div></a></li><li class="depth-4 branch"><a href="http.async.client.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-4"><a href="http.async.client.websocket.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>websocket</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="http.async.client.html#var-await"><div class="inner"><span>await</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-body"><div class="inner"><span>body</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-cancel"><div class="inner"><span>cancel</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-cancelled.3F"><div class="inner"><span>cancelled?</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-close"><div class="inner"><span>close</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-content-type"><div class="inner"><span>content-type</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-cookies"><div class="inner"><span>cookies</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-create-client"><div class="inner"><span>create-client</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-DELETE"><div class="inner"><span>DELETE</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-done.3F"><div class="inner"><span>done?</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-error"><div class="inner"><span>error</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-failed.3F"><div class="inner"><span>failed?</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-GET"><div class="inner"><span>GET</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-HEAD"><div class="inner"><span>HEAD</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-headers"><div class="inner"><span>headers</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-IClosable"><div class="inner"><span>IClosable</span></div></a></li><li class="depth-2 branch"><a href="http.async.client.html#var--close"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-close</span></div></a></li><li class="depth-2"><a href="http.async.client.html#var--open.3F"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-open?</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-location"><div class="inner"><span>location</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-open.3F"><div class="inner"><span>open?</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-OPTIONS"><div class="inner"><span>OPTIONS</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-PATCH"><div class="inner"><span>PATCH</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-POST"><div class="inner"><span>POST</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-PUT"><div class="inner"><span>PUT</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-redirect.3F"><div class="inner"><span>redirect?</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-request-stream"><div class="inner"><span>request-stream</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-send"><div class="inner"><span>send</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-status"><div class="inner"><span>status</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-stream-seq"><div class="inner"><span>stream-seq</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-string"><div class="inner"><span>string</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-uri"><div class="inner"><span>uri</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-url"><div class="inner"><span>url</span></div></a></li><li class="depth-1"><a href="http.async.client.html#var-websocket"><div class="inner"><span>websocket</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">http.async.client</h2><div class="doc"><pre class="plaintext">Asynchronous HTTP Client - Clojure
</pre></div><div class="public anchor" id="var-await"><h3>await</h3><div class="usage"><code>(await response)</code></div><div class="doc"><pre class="plaintext">Waits for response processing to be finished.
Returns same response.</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L195">view source</a></div></div><div class="public anchor" id="var-body"><h3>body</h3><div class="usage"><code>(body resp)</code></div><div class="doc"><pre class="plaintext">Gets body.
If body have not yet been delivered and request hasn&apos;t failed waits for body.</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L208">view source</a></div></div><div class="public anchor" id="var-cancel"><h3>cancel</h3><div class="usage"><code>(cancel resp)</code></div><div class="doc"><pre class="plaintext">Cancels response.
</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L283">view source</a></div></div><div class="public anchor" id="var-cancelled.3F"><h3>cancelled?</h3><div class="usage"><code>(cancelled? resp)</code></div><div class="doc"><pre class="plaintext">Checks if response has been cancelled.
</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L277">view source</a></div></div><div class="public anchor" id="var-close"><h3>close</h3><div class="usage"><code>(close client)</code></div><div class="doc"><pre class="plaintext">Closes client.
</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L330">view source</a></div></div><div class="public anchor" id="var-content-type"><h3>content-type</h3><div class="usage"><code>(content-type resp)</code></div><div class="doc"><pre class="plaintext">Gets content type from response.
</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L248">view source</a></div></div><div class="public anchor" id="var-cookies"><h3>cookies</h3><div class="usage"><code>(cookies resp)</code></div><div class="doc"><pre class="plaintext">Gets cookies from response.
</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L243">view source</a></div></div><div class="public anchor" id="var-create-client"><h3>create-client</h3><div class="usage"><code>(create-client &amp; {:keys [compression-enabled connection-timeout follow-redirects idle-in-pool-timeout keep-alive max-conns-per-host max-conns-total max-redirects proxy auth request-timeout user-agent executor-service ssl-context]})</code></div><div class="doc"><pre class="plaintext">Creates new Async Http Client.
Arguments:
- :compression-enabled :: enable HTTP compression
- :connection-timeout :: connections timeout in ms
- :follow-redirects :: enable following HTTP redirects
- :idle-in-pool-timeout :: idle connection in pool timeout in ms
- :keep-alive :: enable HTTP keep alive, enabled by default
- :max-conns-per-host :: max number of polled connections per host
- :max-conns-total :: max number of total connections held open by client
- :max-redirects :: max nuber of redirects to follow
- :proxy :: map with proxy configuration to be used
    :host     - proxy host
    :port     - proxy port
    :protocol - (optional) protocol to communicate with proxy,
                :http (default, if you provide no value) and :https are allowed
    :user     - (optional) user name to use for proxy authentication,
                has to be provided with :password
    :password - (optional) password to use for proxy authentication,
                has to be provided with :user
- :auth :: map with authentication to be used
    :type       - either :basic or :digest
    :user       - user name to be used
    :password   - password to be used
    :realm      - realm name to authenticate in
    :preemptive - assume authentication is required
- :request-timeout :: request timeout in ms
- :user-agent :: User-Agent branding string
- :executor-service :: provide your own executor service for callbacks to be executed on
- :ssl-context :: provide your own SSL Context</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L36">view source</a></div></div><div class="public anchor" id="var-DELETE"><h3>DELETE</h3><div class="usage"><code>(DELETE client url &amp; {:as options})</code></div><div class="doc"><pre class="plaintext">Sends asynchronously HTTP DELETE request to url.
Returns a map:
- :id      - unique ID of request
- :status  - promise that once status is received is delivered, contains lazy map of:
  - :code     - response code
  - :msg      - response message
  - :protocol - protocol with version
  - :major    - major version of protocol
  - :minor    - minor version of protocol
- :headers - promise that once headers are received is delivered, contains lazy map of:
  - :server - header names are keyworded, values stay not changed
- :body    - body of response, depends on request type, might be ByteArrayOutputStream
             or lazy sequence, use conveniece methods to extract it, like string
- :done    - promise that is delivered once receiving response has finished
- :error   - promise that is delivered if requesting resource failed, once delivered
             will contain Throwable.
Arguments:
- client   - client created via create-client
- url      - URL to request
- options  - keyworded arguments:
  :query   - map of query parameters, if value is vector than multiple values
             will be send as n=v1&amp;n=v2
  :headers - map of headers
  :body    - body
  :cookies - cookies to send
  :proxy   - map with proxy configuration to be used
    :host     - proxy host
    :port     - proxy port
    :protocol - (optional) protocol to communicate with proxy,
                :http (default, if you provide no value) and :https are allowed
    :user     - (optional) user name to use for proxy authentication,
                has to be provided with :password
    :password - (optional) password to use for proxy authentication,
                has to be provided with :user
  :auth    - map with authentication to be used
    :type     - either :basic or :digest
    :user     - user name to be used
    :password - password to be used
    :realm    - realm name to authenticate in
  :timeout - request timeout in ms</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L152">view source</a></div></div><div class="public anchor" id="var-done.3F"><h3>done?</h3><div class="usage"><code>(done? resp)</code></div><div class="doc"><pre class="plaintext">Checks if request is finished already (response receiving finished).
</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L185">view source</a></div></div><div class="public anchor" id="var-error"><h3>error</h3><div class="usage"><code>(error resp)</code></div><div class="doc"><pre class="plaintext">Returns Throwable if request processing failed.
</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L271">view source</a></div></div><div class="public anchor" id="var-failed.3F"><h3>failed?</h3><div class="usage"><code>(failed? resp)</code></div><div class="doc"><pre class="plaintext">Checks if request failed.
</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L180">view source</a></div></div><div class="public anchor" id="var-GET"><h3>GET</h3><div class="usage"><code>(GET client url &amp; {:as options})</code></div><div class="doc"><pre class="plaintext">Sends asynchronously HTTP GET request to url.
Returns a map:
- :id      - unique ID of request
- :status  - promise that once status is received is delivered, contains lazy map of:
  - :code     - response code
  - :msg      - response message
  - :protocol - protocol with version
  - :major    - major version of protocol
  - :minor    - minor version of protocol
- :headers - promise that once headers are received is delivered, contains lazy map of:
  - :server - header names are keyworded, values stay not changed
- :body    - body of response, depends on request type, might be ByteArrayOutputStream
             or lazy sequence, use conveniece methods to extract it, like string
- :done    - promise that is delivered once receiving response has finished
- :error   - promise that is delivered if requesting resource failed, once delivered
             will contain Throwable.
Arguments:
- client   - client created via create-client
- url      - URL to request
- options  - keyworded arguments:
  :query   - map of query parameters, if value is vector than multiple values
             will be send as n=v1&amp;n=v2
  :headers - map of headers
  :body    - body
  :cookies - cookies to send
  :proxy   - map with proxy configuration to be used
    :host     - proxy host
    :port     - proxy port
    :protocol - (optional) protocol to communicate with proxy,
                :http (default, if you provide no value) and :https are allowed
    :user     - (optional) user name to use for proxy authentication,
                has to be provided with :password
    :password - (optional) password to use for proxy authentication,
                has to be provided with :user
  :auth    - map with authentication to be used
    :type     - either :basic or :digest
    :user     - user name to be used
    :password - password to be used
    :realm    - realm name to authenticate in
  :timeout - request timeout in ms</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L152">view source</a></div></div><div class="public anchor" id="var-HEAD"><h3>HEAD</h3><div class="usage"><code>(HEAD client url &amp; {:as options})</code></div><div class="doc"><pre class="plaintext">Sends asynchronously HTTP HEAD request to url.
Returns a map:
- :id      - unique ID of request
- :status  - promise that once status is received is delivered, contains lazy map of:
  - :code     - response code
  - :msg      - response message
  - :protocol - protocol with version
  - :major    - major version of protocol
  - :minor    - minor version of protocol
- :headers - promise that once headers are received is delivered, contains lazy map of:
  - :server - header names are keyworded, values stay not changed
- :body    - body of response, depends on request type, might be ByteArrayOutputStream
             or lazy sequence, use conveniece methods to extract it, like string
- :done    - promise that is delivered once receiving response has finished
- :error   - promise that is delivered if requesting resource failed, once delivered
             will contain Throwable.
Arguments:
- client   - client created via create-client
- url      - URL to request
- options  - keyworded arguments:
  :query   - map of query parameters, if value is vector than multiple values
             will be send as n=v1&amp;n=v2
  :headers - map of headers
  :body    - body
  :cookies - cookies to send
  :proxy   - map with proxy configuration to be used
    :host     - proxy host
    :port     - proxy port
    :protocol - (optional) protocol to communicate with proxy,
                :http (default, if you provide no value) and :https are allowed
    :user     - (optional) user name to use for proxy authentication,
                has to be provided with :password
    :password - (optional) password to use for proxy authentication,
                has to be provided with :user
  :auth    - map with authentication to be used
    :type     - either :basic or :digest
    :user     - user name to be used
    :password - password to be used
    :realm    - realm name to authenticate in
  :timeout - request timeout in ms</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L152">view source</a></div></div><div class="public anchor" id="var-headers"><h3>headers</h3><div class="usage"><code>(headers resp)</code></div><div class="doc"><pre class="plaintext">Gets headers.
If headers have not yet been delivered and request hasn&apos;t failed waits for headers.</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L202">view source</a></div></div><div class="public anchor" id="var-IClosable"><h3>IClosable</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var--close"><h3>-close</h3><div class="usage"><code>(-close this)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var--open.3F"><h3>-open?</h3><div class="usage"><code>(-open? this)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L317">view source</a></div></div><div class="public anchor" id="var-location"><h3>location</h3><div class="usage"><code>(location resp)</code></div><div class="doc"><pre class="plaintext">Retrieves location of redirect.
</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L265">view source</a></div></div><div class="public anchor" id="var-open.3F"><h3>open?</h3><div class="usage"><code>(open? client)</code></div><div class="doc"><pre class="plaintext">Checks if client is open.
</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L338">view source</a></div></div><div class="public anchor" id="var-OPTIONS"><h3>OPTIONS</h3><div class="usage"><code>(OPTIONS client url &amp; {:as options})</code></div><div class="doc"><pre class="plaintext">Sends asynchronously HTTP OPTIONS request to url.
Returns a map:
- :id      - unique ID of request
- :status  - promise that once status is received is delivered, contains lazy map of:
  - :code     - response code
  - :msg      - response message
  - :protocol - protocol with version
  - :major    - major version of protocol
  - :minor    - minor version of protocol
- :headers - promise that once headers are received is delivered, contains lazy map of:
  - :server - header names are keyworded, values stay not changed
- :body    - body of response, depends on request type, might be ByteArrayOutputStream
             or lazy sequence, use conveniece methods to extract it, like string
- :done    - promise that is delivered once receiving response has finished
- :error   - promise that is delivered if requesting resource failed, once delivered
             will contain Throwable.
Arguments:
- client   - client created via create-client
- url      - URL to request
- options  - keyworded arguments:
  :query   - map of query parameters, if value is vector than multiple values
             will be send as n=v1&amp;n=v2
  :headers - map of headers
  :body    - body
  :cookies - cookies to send
  :proxy   - map with proxy configuration to be used
    :host     - proxy host
    :port     - proxy port
    :protocol - (optional) protocol to communicate with proxy,
                :http (default, if you provide no value) and :https are allowed
    :user     - (optional) user name to use for proxy authentication,
                has to be provided with :password
    :password - (optional) password to use for proxy authentication,
                has to be provided with :user
  :auth    - map with authentication to be used
    :type     - either :basic or :digest
    :user     - user name to be used
    :password - password to be used
    :realm    - realm name to authenticate in
  :timeout - request timeout in ms</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L152">view source</a></div></div><div class="public anchor" id="var-PATCH"><h3>PATCH</h3><div class="usage"><code>(PATCH client url &amp; {:as options})</code></div><div class="doc"><pre class="plaintext">Sends asynchronously HTTP PATCH request to url.
Returns a map:
- :id      - unique ID of request
- :status  - promise that once status is received is delivered, contains lazy map of:
  - :code     - response code
  - :msg      - response message
  - :protocol - protocol with version
  - :major    - major version of protocol
  - :minor    - minor version of protocol
- :headers - promise that once headers are received is delivered, contains lazy map of:
  - :server - header names are keyworded, values stay not changed
- :body    - body of response, depends on request type, might be ByteArrayOutputStream
             or lazy sequence, use conveniece methods to extract it, like string
- :done    - promise that is delivered once receiving response has finished
- :error   - promise that is delivered if requesting resource failed, once delivered
             will contain Throwable.
Arguments:
- client   - client created via create-client
- url      - URL to request
- options  - keyworded arguments:
  :query   - map of query parameters, if value is vector than multiple values
             will be send as n=v1&amp;n=v2
  :headers - map of headers
  :body    - body
  :cookies - cookies to send
  :proxy   - map with proxy configuration to be used
    :host     - proxy host
    :port     - proxy port
    :protocol - (optional) protocol to communicate with proxy,
                :http (default, if you provide no value) and :https are allowed
    :user     - (optional) user name to use for proxy authentication,
                has to be provided with :password
    :password - (optional) password to use for proxy authentication,
                has to be provided with :user
  :auth    - map with authentication to be used
    :type     - either :basic or :digest
    :user     - user name to be used
    :password - password to be used
    :realm    - realm name to authenticate in
  :timeout - request timeout in ms</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L152">view source</a></div></div><div class="public anchor" id="var-POST"><h3>POST</h3><div class="usage"><code>(POST client url &amp; {:as options})</code></div><div class="doc"><pre class="plaintext">Sends asynchronously HTTP POST request to url.
Returns a map:
- :id      - unique ID of request
- :status  - promise that once status is received is delivered, contains lazy map of:
  - :code     - response code
  - :msg      - response message
  - :protocol - protocol with version
  - :major    - major version of protocol
  - :minor    - minor version of protocol
- :headers - promise that once headers are received is delivered, contains lazy map of:
  - :server - header names are keyworded, values stay not changed
- :body    - body of response, depends on request type, might be ByteArrayOutputStream
             or lazy sequence, use conveniece methods to extract it, like string
- :done    - promise that is delivered once receiving response has finished
- :error   - promise that is delivered if requesting resource failed, once delivered
             will contain Throwable.
Arguments:
- client   - client created via create-client
- url      - URL to request
- options  - keyworded arguments:
  :query   - map of query parameters, if value is vector than multiple values
             will be send as n=v1&amp;n=v2
  :headers - map of headers
  :body    - body
  :cookies - cookies to send
  :proxy   - map with proxy configuration to be used
    :host     - proxy host
    :port     - proxy port
    :protocol - (optional) protocol to communicate with proxy,
                :http (default, if you provide no value) and :https are allowed
    :user     - (optional) user name to use for proxy authentication,
                has to be provided with :password
    :password - (optional) password to use for proxy authentication,
                has to be provided with :user
  :auth    - map with authentication to be used
    :type     - either :basic or :digest
    :user     - user name to be used
    :password - password to be used
    :realm    - realm name to authenticate in
  :timeout - request timeout in ms</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L152">view source</a></div></div><div class="public anchor" id="var-PUT"><h3>PUT</h3><div class="usage"><code>(PUT client url &amp; {:as options})</code></div><div class="doc"><pre class="plaintext">Sends asynchronously HTTP PUT request to url.
Returns a map:
- :id      - unique ID of request
- :status  - promise that once status is received is delivered, contains lazy map of:
  - :code     - response code
  - :msg      - response message
  - :protocol - protocol with version
  - :major    - major version of protocol
  - :minor    - minor version of protocol
- :headers - promise that once headers are received is delivered, contains lazy map of:
  - :server - header names are keyworded, values stay not changed
- :body    - body of response, depends on request type, might be ByteArrayOutputStream
             or lazy sequence, use conveniece methods to extract it, like string
- :done    - promise that is delivered once receiving response has finished
- :error   - promise that is delivered if requesting resource failed, once delivered
             will contain Throwable.
Arguments:
- client   - client created via create-client
- url      - URL to request
- options  - keyworded arguments:
  :query   - map of query parameters, if value is vector than multiple values
             will be send as n=v1&amp;n=v2
  :headers - map of headers
  :body    - body
  :cookies - cookies to send
  :proxy   - map with proxy configuration to be used
    :host     - proxy host
    :port     - proxy port
    :protocol - (optional) protocol to communicate with proxy,
                :http (default, if you provide no value) and :https are allowed
    :user     - (optional) user name to use for proxy authentication,
                has to be provided with :password
    :password - (optional) password to use for proxy authentication,
                has to be provided with :user
  :auth    - map with authentication to be used
    :type     - either :basic or :digest
    :user     - user name to be used
    :password - password to be used
    :realm    - realm name to authenticate in
  :timeout - request timeout in ms</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L152">view source</a></div></div><div class="public anchor" id="var-redirect.3F"><h3>redirect?</h3><div class="usage"><code>(redirect? resp)</code></div><div class="doc"><pre class="plaintext">Checks if response is redirect.
</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L259">view source</a></div></div><div class="public anchor" id="var-request-stream"><h3>request-stream</h3><div class="usage"><code>(request-stream client method url body-part-callback &amp; {:as options})</code></div><div class="doc"><pre class="plaintext">Consumes stream from given url.
method - HTTP method to be used (:get, :post, ...)
url - URL to set request to
body-part-callback - callback that takes status (ref {}) of request
                     and received body part as vector of bytes
options - are optional and can contain :headers, :param, and :query (see prepare-request).</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L154">view source</a></div></div><div class="public anchor" id="var-send"><h3>send</h3><div class="usage"><code>(send ws &amp; {text :text, byte :byte})</code></div><div class="doc"><pre class="plaintext">Send message via WebSocket.
</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L299">view source</a></div></div><div class="public anchor" id="var-status"><h3>status</h3><div class="usage"><code>(status resp)</code></div><div class="doc"><pre class="plaintext">Gets status if status was delivered.
</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L254">view source</a></div></div><div class="public anchor" id="var-stream-seq"><h3>stream-seq</h3><div class="usage"><code>(stream-seq client method url &amp; {:as options})</code></div><div class="doc"><pre class="plaintext">Creates potentially infinite lazy sequence of Http Stream.
</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L166">view source</a></div></div><div class="public anchor" id="var-string"><h3>string</h3><div class="usage"><code>(string resp)</code><code>(string headers body)</code></div><div class="doc"><pre class="plaintext">Converts response to string.
Or converts body taking encoding from response.</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L234">view source</a></div></div><div class="public anchor" id="var-uri"><h3>uri</h3><div class="usage"><code>(uri resp)</code></div><div class="doc"><pre class="plaintext">Get the request URI from the response
</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L294">view source</a></div></div><div class="public anchor" id="var-url"><h3>url</h3><div class="usage"><code>(url resp)</code></div><div class="doc"><pre class="plaintext">Gets URL from response
</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L289">view source</a></div></div><div class="public anchor" id="var-websocket"><h3>websocket</h3><div class="usage"><code>(websocket client url &amp; options)</code></div><div class="doc"><pre class="plaintext">Opens WebSocket connection.
</pre></div><div class="src-link"><a href="http://github.com/cch1/http.async.client/blob/master/src/clj/http/async/client.clj#L308">view source</a></div></div></div></body></html>